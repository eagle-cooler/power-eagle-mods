"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getLibraryId = getLibraryId;
/* eslint-disable no-undef */
var LibraryIDToPath = new Map();

/**
 * Get the library ID for a given path
 * @param {string} [path] - The path to get the library ID for
 * @return {string} The library ID
 */
function getLibraryId() {
  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  if (!path) {
    path = eagle.library.path;
  }
  if (LibraryIDToPath.has(path)) {
    return LibraryIDToPath.get(path);
  }
  var crypto = require('crypto');
  var hash = crypto.createHash('md5');
  hash.update(path);
  var hex = hash.digest('hex');
  LibraryIDToPath.set(path, hex);
  return hex;
}